<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<section class="user-input">
    <input type="text" name="input_text" id="input_text" autocomplete="off">
    <button class="button" type="submit">Generate QR Code</button>
</section><br/>
<div class="qr-code" style="display: none;"></div>
<script>
    let btn = document.querySelector(".button");
    btn.addEventListener("click", () => {
        let user_input = document.querySelector("#input_text");
        if(user_input.value != "") {
            if(document.querySelector(".qr-code").childElementCount == 0){
                generate(user_input);
            } else{
                document.querySelector(".qr-code").innerHTML = "";
                generate(user_input);
            }
        } else {
            document.querySelector(".qr-code").style = "display: none";
            console.log("not valid input");
        }
    });

    function generate(user_input){

        document.querySelector(".qr-code").style = "";

        var qrcode = new QRCode(document.querySelector(".qr-code"), {
            text: `${user_input.value}`,
            width: 180, //128
            height: 180,
            colorDark : "#000000",
            colorLight : "#ffffff",
            correctLevel : QRCode.CorrectLevel.H
        });

        console.log(qrcode);

        
    }
    
</script>
</body>
</html>