<DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>FlickFlip</title>
	<style type="text/css">
		body, html{ 
			margin: 0; 
			position: fixed;
		}
		canvas{
            touch-action: none;
		}
	</style>
</head>
<body id='body'>
	<canvas id='canvas'></canvas>
	<script>
	var canvas = document.getElementById('canvas');	
	function scaleCanvas(){
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
	}
	scaleCanvas();
	var ctx = canvas.getContext('2d');

	function lerp (start, end, amt){
  		return (1-amt)*start+amt*end
	}
    
    function Board(x,y){
        this.x = x;
        this.y = y;
        this.draw = function(){
            ctx.arc(this.x, this.y-40,20,1*Math.PI,false);
            ctx.lineTo(this.x+20,this.y+40);
            ctx.arc(this.x,this.y+40,20,0,1*Math.PI,false);
            ctx.lineTo(this.x-20,this.y-40);
            ctx.stroke();
            ctx.fillStyle = '#444';
            ctx.fill();
        }
    }

    
    var b = new Board(0,0);//innerWidth/2,innerHeight/2);
    var angle = 0.0;
	function animate(){
		window.requestAnimationFrame(animate);
		ctx.clearRect(0,0,innerWidth,innerHeight);
		ctx.fillRect(100,100,40,40);
        //angle += 0.05;
        ctx.save();
        ctx.clearRect(0,0,innerWidth,innerHeight);
        ctx.translate(innerWidth/2,innerHeight/2);
        //ctx.clearRect(0,0,innerWidth,innerHeight);
        ctx.rotate(angle);
        b.draw();
        ctx.translate(-innerWidth/2,innerHeight/2);
        ctx.restore();
	}

	var mx = 0; //Touch || Mouse initial input position on x
    var my = 0; //Touch || Mouse initial input position on y

	window.addEventListener('touchstart', function(evt){
        evt.preventDefault();
		mx = evt.changedTouches[0].pageX;
        my = evt.changedTouches[0].pageY; 
    }, false);
	
    window.addEventListener('touchmove', function(evt){
        evt.preventDefault();
    }, false);
	
    window.addEventListener('touchcancel', function(evt){
        evt.preventDefault();
    }, false);
	
	//User has removed finger... let's figure out the desired action here. 
    window.addEventListener('touchend', function(evt){
        evt.preventDefault();
    }, false);
        
    window.addEventListener('keypress',function(evt){
        evt.preventDefault();
        var key = evt.keyCode;
        if(key == 97){
            angle -= 0.1;
        }
        if(key == 100){
            angle += 0.1;
        }
        
    },false);

	animate();
	</script>
</body>
</html>