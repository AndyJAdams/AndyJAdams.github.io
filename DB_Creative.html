<!DOCTYPE HTML>
<html>
<head>
	<meta lang="en/us"/>
	<meta encoding="UTF-8">
	<title>DB_Creative</title>
	<style>
		body{
			margin: 0;
		}
		canvas{
			background-color: #D6D6D6;
		}
	</style>
</head>
<body>
<canvas id='canvas'></canvas>
<script type='text/javascript'>
	var canvas = document.getElementById('canvas');
	var ctx = canvas.getContext('2d');
	
	//GLOBAL VARIABLES
	var spacingX = 0,spacingY = 0;
	var portrait = false;
	var columns =0;
	var rows = 0;

	function scaleCanvas(){
		rows = 25;
		columns = 40;
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight-4;
		if(innerWidth < innerHeight){
			portrait = true;
			var r = rows;
			rows = columns;
			columns = r;
		}
		spacingY = (innerHeight-100)/(rows+1);
		spacingX = innerWidth/(columns);
		ctx.fillStyle='#A3A3A3';
		ctx.strokeStyle='#2A2A2A';
		buildGrid();
	}
	

	function Path(x1,y1,x2,y2){
		this.x1 = x1; this.y1 = y1;
		this.x2 = x2; this.y2 = y2;
		this.draw = function(){
			ctx.beginPath();
			ctx.moveTo(this.x1,this.y1);
			ctx.lineTo(this.x2,this.y2);
			ctx.stroke();
			ctx.closePath();
		}
	}

	function GridPosition(x,y){
		this.x = x; this.y = y;
	}

	var gridPos = [];
	function buildGrid(){
		gridPos = [];
		for(var y = 0; y < rows; y++){
			for(var x =0; x < columns; x++){
				var posX = (x*spacingX)+(spacingX/2);
				var posY = (y*spacingY)+(spacingY/2);
				ctx.fillRect(posX,posY,1,1);
				gridPos.push(new GridPosition(posX, posY));
			}
		}
	}

	function animate(){
		window.requestAnimationFrame(animate);
		ctx.clearRect(0,0,innerWidth,innerHeight);

		for(var i =0; i < gridPos.length; i++){
			ctx.fillRect(gridPos[i].x-2,gridPos[i].y-2,4,4);
		}

	}

	function getNearestSnapPosition(x,y){

	}

	window.addEventListener('resize', function(){
		scaleCanvas();
	});

	window.addEventListener('mouseup', function(evt){
	});

	window.addEventListener('keydown',function(evt){
	});

	window.addEventListener('keyup',function(evt){
	});

	scaleCanvas();
	animate();
</script>
</body>
</html>