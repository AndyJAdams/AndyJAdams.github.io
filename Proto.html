<!DOCTYPE html><html><head>
<title>Prototype 18</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<style>
  body{ margin: 0; }
</style></head>
<!--User visible shtuff-->
<body>
<canvas></canvas>  
<script>
var canvas = document.querySelector('canvas');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
var c = canvas.getContext('2d');



var colorArray = ['#FF0000', '#c8c8c8', '#000000'];

function Circle(x,y,radius, orgX, orgY, count){
  this.x = x;
  this.y = y;
  this.orgX = orgX; this.orgY = orgY;
  this.radius = radius;
  this.color = colorArray[Math.floor(Math.random()*colorArray.length)];
  this.distance = (count*80) + 100;
  this.velocity = 0.01 * (Math.random()-0.5);
  this.posArray = [];
  this.radians = this.velocity;
  this.draw = function(){
    c.beginPath();
    c.arc(this.x, this.y, this.radius, Math.PI * 2, false);
    c.fillStyle= this.color;
    c.fill();
  }

  this.update = function(){
    this.radians+=this.velocity;
    
    this.x = (innerWidth/2)+ Math.sin(this.radians)*this.distance;
    this.y = (innerHeight/2)+ Math.cos(this.radians)*this.distance; 
    this.posArray.push({x:this.x, y:this.y});
    this.draw();
  }
}

function Line(Circle){
  this.circle = Circle;
  this.draw = function(){
    c.beginPath();
    c.moveTo(innerWidth/2,innerHeight/2);
    
  }

  this.update = function(){
    this.draw();
    c.lineTo(this.circle.x, this.circle.y);
    c.strokeStyle = 'rgba(220,220,220,1)';
    c.stroke();
  }
}

function Moon(Circle){
  this.x = Circle.x;
  this.y = Circle.y;
  this.circle = Circle;
  this.velocity = 0.02 * (Math.random()-0.5);
  this.radians = this.velocity;
  this.distance = getRandomArbitrary(10,25)+Circle.radius;
  this.color = colorArray[Math.floor(Math.random()*colorArray.length)];
  this.radius = getRandomArbitrary(1,3);
  this.draw = function(){
    c.beginPath();
    c.arc(this.x, this.y, this.radius, Math.PI*2, false);
    c.fillStyle = this.color;
    c.fill();
  }

  this.update = function(){
    this.radians += this.velocity;
    this.x = Circle.x+Math.sin(this.radians)*this.distance;
    this.y = Circle.y+Math.cos(this.radians)*this.distance;

    this.draw();
  }
}

function Path(Circle){
  this.circle = Circle;
  this.color = Circle.color;
  this.update = function(){
    c.beginPath();
    var pointCount = 0;
    for(var i = this.circle.posArray.length-1; i > -1; i--){
      if(pointCount < 400){
        if(i == this.circle.posArray.length-1){
          c.moveTo(this.circle.posArray[i].x,this.circle.posArray[i].y);
        } else {
          c.lineTo(this.circle.posArray[i].x,this.circle.posArray[i].y,);
        }
        pointCount++;
      }
    }
    c.strokeStyle = this.circle.color;
    c.lineWidth = 1;
    c.stroke();
  }
}

function getRandomArbitrary(min, max) {
  return Math.random() * (max - min) + min;
}

var circleArray = [];
var lineArray = [];
var pathArray = [];
var moonArray = [];
var burstArray = [];


for(var i = 0; i < 4; i++){
  var x = Math.random() * innerWidth;
  var y = Math.random() * innerHeight;
  var radius = getRandomArbitrary(10, 25);
  var circle = new Circle(x,y,radius, innerWidth/2, innerHeight/2, i);
  circleArray.push(circle);
  lineArray.push(new Line(circle));
  pathArray.push(new Path(circle));
}

for(var j = 0; j < getRandomArbitrary(0,circleArray.length*2); j++){
  moonArray.push(new Moon(circleArray[Math.floor(Math.random()*circleArray.length)]));
}

for(var b = 0; b < 80; b++){
  var x = innerWidth/2 + getRandomArbitrary(20,45);
  var y = innerheight/2 + 20 + getRandomArbitrary(5,10);
  var radius = getRandomArbitrary(1,5);
  var radX = Math.random()-0.5;
  var burst = new Burst(x,y,radius,radx);
}



function animate(){
  requestAnimationFrame(animate);
  c.fillStyle ='rgba(255,255,255,0.05)';
  c.clearRect(0,0, innerWidth, innerHeight);
  for(var l = 0; l < circleArray.length; l++){
    lineArray[l].update();
  }
  for(var i = 0; i < circleArray.length; i++){
    circleArray[i].update();
  }
  for(var m = 0; m < moonArray.length; m++){
    moonArray[m].update();
  }


  for(var a = 0; a < circleArray.length; a++){
    pathArray[a].update();
  }

  c.beginPath();
  c.arc(innerWidth/2, innerHeight/2, 40, Math.PI * 2, false);
  c.fillStyle = '#FFFFFF';
  c.fill();
  c.strokeStyle = '#000000';
  c.lineWidth = 2;
  c.stroke();
}

function RandomColor(){
  var color = 'rgba('+Math.round(Math.random()*255)+','+Math.round(Math.random()*255)+','+Math.round(Math.random()*255)+',1)';
  return color;
}

animate();

</script>
</body>
<!--End of line
VersionNOTES:
0.1.0 - 

-->
</html>