<!DOCTYPE html>
<html>
    <head>
       <title>QR Generator</title>
       <style>
        input{
            font-size: 18pt;
            border: 0;
            border-bottom: 2px solid black;
            width: 180px;
        }
        section{
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%,-25%);
        }
       </style>
    </head>
    <body>
<script src="./qrcode.min.js"></script>
<section class="user-input">
    <input type="text" placeholder="Enter text here" autocomplete="off"><br/><br/>
    <div class="qr-code" style="display: none;"></div>
</section>
<script>
    setInterval(function(){generate(document.querySelector("input"));},100);

    function generate(user_input){
        let qr = document.querySelector(".qr-code");
        if(user_input.value != ""){
            if(qr.childElementCount > 0){
                qr.innerHTML = "";
            }
        } else {
            qr.style= "display: none";
            return;
        }
        qr.style = "";

        var qrcode = new QRCode(document.querySelector(".qr-code"), {
            text: `${user_input.value}`,
            width: 180, //128
            height: 180,
            colorDark : "#000000",
            colorLight : "#ffffff",
            correctLevel : QRCode.CorrectLevel.H
        });

        console.log(qrcode);
    }
    
</script>
</body>
</html>