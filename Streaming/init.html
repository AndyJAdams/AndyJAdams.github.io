<!DOCTYPE HTML>
<html>
<head>
    <meta lang="en/us"/>
    <meta encoding="UTF-8">
    <meta charset="UTF-8">
    <title>init</title>
    <style>
        body{
            margin: 0;
            touch-action: none;
            position: fixed;
            -webkit-touch-callout: none !important;
            -webkit-user-select: none !important;
        }
        canvas{
            background-color:#000;
        }
    </style>
</head>
<body>
<canvas id='canvas'></canvas>
<script type='text/javascript'>
     var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    
    function scaleCanvas(){
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    scaleCanvas();

    var start = Date.now();
    var percent = 0;
    var flashToggle = false;
    var flashTime = 0;
    var dataset = 2;
    var data = [
    'C:/locate directory boot_seq_001',
    'C:/cd boot_seq_001 loadOS.bat',
    'execute system evac - resource cache',
    'init_system binaries...',
    '...init cpu',
    '...init ram',
    '...init boot resource',
    '...init IDE',
    '...binary load completed 100%',
    '[][][][][][][][]-----',
    'drawing user interface',
    'warming up pizza rolls',
    'setting disk head space by hand',
    'allocating 8kb memory',
    'gc_call lvl dumpster_fire',
    'loading host...',
    'locating host...',
    'failed to locate decent host resource',
    'checking backups',
    'failed to load backup host resources',
    'checking local pub for willing participant',
    'pubs closed, shit...',
    'finding nearest hobo',
    'hobo found- initiaing incentive',
    'incentive allocated - reviewing objectives',
    'hobo failed primary function parameters',
    'locating secondary hobo...with teeth this time',
    'secondary hobo allocated',
    'witholding incentive for performance based review',
    'going live in...',
    'three...',
    'two...',
    'ABORT- ABORT-',
    'Hobo_2 has quit unexpectedly. attempting retrieval',
    'ERROR- RESTART BOOT SEQUENCE',
    'gc_call lvl dumpster_fire',
    'loading host...',
    'locating host...',
    'failed to locate decent host resource',
    'locating carbon based lifeform',
    'locating...',
    'locating...',
    'failed to locate worthy target',
    'checking GC_Dump.txt for something resembling host',
    'compiling trash_host.csv',
    'Launching stream with trash_host.exe'
    ];

    var prevCount = 0;
    function animate(){
        window.requestAnimationFrame(animate);
        ctx.clearRect(0,0,innerWidth,innerHeight);
        ctx.font='bold 32px sans-serif';
        ctx.fillStyle='#FFF';
        ctx.strokeStyle='#FFF';

        //Init text
        ctx.fillText("INITIALIZING",innerWidth/2-180,innerHeight/2-10);

        //Loading box
        ctx.strokeRect(innerWidth/2-180,innerHeight/2,400,50);

        //Loading bar
        var elapsed = Date.now()-start;
        ctx.fillRect(innerWidth/2-175,innerHeight/2+5,percent*390,40);
        if(percent < 0.9){
            percent = elapsed/180000;
        } else {
            var outstring = "ERROR - HOST NOT FOUND";
            if(Date.now()>flashTime){
                outstring ='';
                if(Date.now() > flashTime+600){
                    flashTime = Date.now()+2000;
                }
            }
            ctx.fillStyle='#F00';
            ctx.font='bold 32px sans-serif';
            ctx.fillText(outstring,innerWidth/2-180,innerHeight/2+90);
        }
        
        //Extra text
        if(Date.now() > prevCount){
            if(dataset < data.length-1){
                dataset++;
            }
            prevCount = Date.now()+4000;
        }
        ctx.font='20px sans-serif';
        ctx.fillStyle='#444';
        ctx.fillText(data[dataset-2],innerWidth/2-180,innerHeight/2+110);
        ctx.fillText(data[dataset-1],innerWidth/2-180,innerHeight/2+132);
        ctx.fillText(data[dataset],innerWidth/2-180,innerHeight/2+154);
    }

    animate();
</script>
</body>
</html>
