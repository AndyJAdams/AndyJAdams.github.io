<DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Nodeslide</title>
	<style type="text/css">
		body, html{ 
			margin: 0; 
			background-color: #000;
			position: fixed;
		}
		canvas{
            touch-action: none;
		}
	</style>
</head>
<body id='body'>
	<canvas id='canvas'></canvas>
	<script>
	var canvas = document.getElementById('canvas');	
	var gridWidth; var gridHeight;
	var rows = 8;
	var columns = 6;

	function scaleCanvas(){
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		gridWidth = innerWidth*0.8;
		gridHeight = innerHeight*0.8;
	}
	scaleCanvas();
	var ctx = canvas.getContext('2d');

	function lerp (start, end, amt){
  		return (1-amt)*start+amt*end
	}
	ctx.fillStyle = '#fff';

	var rowGap = gridHeight/rows;
	var colGap = gridWidth/columns;

	var Node = function(x,y){
		this.x = x;
		this.y = y;
		this.draw = function(){
			ctx.fillRect(this.x-2,this.y-2,4,4);
		}
	}
	
	var nodes = [];
	for(var r = 0; r < rows; r++){
		var col = [];
		for(var c = 0; c < columns; c++){
			var xp = 10;
			var yp = 10;
			col[c] = new Node(xp,yp);
		}
		nodes[r] = col;
	}

	function animate(){
		window.requestAnimationFrame(animate);
		ctx.clearRect(0,0,canvas.width,canvas.height);
		
		for(var i = 0; i < rows; i++){
			for(var j = 0; j < columns; j++){
				nodes[i][j].draw();
			}
		}
	}

	var mx = 0; //Touch || Mouse initial input position on x
    var my = 0; //Touch || Mouse initial input position on y

	window.addEventListener('touchstart', function(evt){
        evt.preventDefault();
		mx = evt.changedTouches[0].pageX;
        my = evt.changedTouches[0].pageY; 
    }, false);
	
    window.addEventListener('touchmove', function(evt){
        evt.preventDefault();
    }, false);
	
    window.addEventListener('touchcancel', function(evt){
        evt.preventDefault();
    }, false);
	
	//User has removed finger... let's figure out the desired action here. 
    window.addEventListener('touchend', function(evt){
        evt.preventDefault();
    }, false);

    window.addEventListener('mousedown', function(evt){
    	mx = evt.pageX;
    	my = evt.pageY;
    	evt.preventDefault();
    },false);

    window.addEventListener('mousemove', function(evt){
    	evt.preventDefault();
    },false);

    window.addEventListener('mouseup',function(evt){
    	evt.preventDefault();
    },false);

    window.addEventListener('resize',function(evt){
    	scaleCanvas();
    },false);

	animate();
	</script>
</body>
</html>